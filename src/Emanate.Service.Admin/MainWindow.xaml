<Window x:Class="Emanate.Service.Admin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Admin="clr-namespace:Emanate.Service.Admin"
        Title="MainWindow" Height="350" Width="525">
    <Window.Resources>
        
        <DataTemplate DataType="{x:Type Admin:ConfigurationInfo}">
            <TextBlock Text="{Binding Name}" />
        </DataTemplate>

        <DataTemplate DataType="{x:Type Admin:ConfigurationProperty}">
            <Grid Margin="0,2,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width=".5*" />
                    <ColumnDefinition Width=".5*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="{Binding Name}" />
                <TextBox Grid.Column="1" Text="{Binding Value}" />
            </Grid>
        </DataTemplate>
        
    </Window.Resources>
    <DockPanel>
        <ListView x:Name="configInfos" ItemsSource="{Binding ConfigurationInfos}" Padding="5" />
        <ItemsControl ItemsSource="{Binding ElementName=configInfos, Path=SelectedItem.Properties}" Padding="5">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>
    </DockPanel>
</Window>
